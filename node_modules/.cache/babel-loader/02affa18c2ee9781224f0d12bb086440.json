{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/App.js\";\nimport React, { Component } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport { cities } from './variables.js';\nimport Forecast from './Components/forecast';\nexport var city = 'Croydon';\nexport var country = 'GB';\nexport var Api_Key = \"8c5021109e1918aa1c478ce6b4f53c27\";\n\nfunction hasName(prop, value, data) {\n  return data.some(function (obj) {\n    return prop in obj && obj[prop] === value;\n  });\n}\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction getSuggestions(value) {\n  var escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === '') {\n    return [];\n  }\n\n  var regex = new RegExp('^' + escapedValue, 'i');\n  return cities.map(function (section) {\n    return {\n      title: section.title,\n      cities: section.cities.filter(function (language) {\n        return regex.test(language.name);\n      })\n    };\n  }).filter(function (section) {\n    return section.cities.length > 0;\n  });\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\n\nfunction renderSuggestion(suggestion) {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, suggestion.name);\n}\n\nfunction renderSectionTitle(section) {\n  return React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, section.title);\n}\n\nfunction getSectionSuggestions(section) {\n  return section.cities;\n}\n\nfunction getTitle(cities, prop, value) {\n  // Find the language...\n  var result = cities.find(function (language) {\n    // ... where some item has item[prop] === value\n    return language.cities.some(function (item) {\n      return item[prop] === value;\n    });\n  });\n  return result ? result.title : null;\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      temperature: undefined,\n      city: undefined,\n      country: undefined,\n      humidity: undefined,\n      description: undefined,\n      error: undefined,\n      value: '',\n      suggestions: [],\n      message: undefined,\n      subMessage: undefined\n    };\n\n    _this.onResponse = function () {\n      var sunriseSinceEpoch = new Date(_this.state.response.sys.sunrise * 1000);\n      var sunriseHour = sunriseSinceEpoch.getUTCHours();\n      var sunriseMinute = sunriseSinceEpoch.getUTCMinutes();\n      var humanSunrise = sunriseHour + ':' + sunriseMinute + 'AM';\n      var sunsetSinceEpoch = new Date(_this.state.response.sys.sunset * 1000);\n      var sunsetHour = sunsetSinceEpoch.getUTCHours();\n      sunsetHour = sunsetHour - 12;\n      var sunsetMinute = sunsetSinceEpoch.getUTCMinutes();\n      var humanSunset = sunsetHour + ':' + sunsetMinute + 'PM';\n\n      if (city && country) {\n        _this.setState({\n          temperature: _this.state.response.main.temp,\n          city: _this.state.response.name,\n          country: _this.state.response.sys.country,\n          sunset: humanSunset,\n          sunrise: humanSunrise,\n          humidity: _this.state.response.main.humidity,\n          description: _this.state.response.weather[0].description,\n          icon: _this.state.response.weather[0].icon,\n          error: \"\",\n          windSpeed: _this.state.response.wind.speed,\n          windDeg: _this.state.response.wind.deg\n        });\n\n        if (_this.state.icon === '01d') {\n          if (_this.state.temp > 18) {\n            _this.setState({\n              message: 'Fucking Lush',\n              subMessage: \"If you had friends you could go outside and play!\"\n            });\n          } else {\n            _this.setState({\n              message: 'Pretty, but dissapointingly cold.',\n              subMessage: \"Like you, except it's pretty.\"\n            });\n          }\n        }\n\n        switch (_this.state.icon) {\n          case '02d':\n          case '02n':\n            _this.setState({\n              message: 'Not bad',\n              subMessage: \"Unlike you. You're really bad.\"\n            });\n\n            if (_this.state.temp < 5) {\n              _this.setState({\n                message: \"It's fucking freezing.\",\n                subMessage: \"Fuck you, cold-face.\"\n              });\n            }\n\n        }\n\n        switch (_this.state.icon) {\n          case '03d':\n          case '03n':\n            _this.setState({\n              message: 'Fucking unremarkable out there.',\n              subMessage: \"Have you been giving the weather life advice? Please stop.\"\n            });\n\n            if (_this.state.temp < 5) {\n              _this.setState({\n                message: \"It's fucking freezing.\",\n                subMessage: \"Fuck you, cold-face.\"\n              });\n            }\n\n        }\n\n        switch (_this.state.icon) {\n          case '04d':\n          case '04n':\n            _this.setState({\n              message: 'Broken sky, broken dreams.',\n              subMessage: \"Just keep pretending everything's ok.\"\n            });\n\n        }\n\n        if (_this.state.icon === '04n') {\n          _this.setState({\n            message: 'Broken sky, broken dreams.',\n            subMessage: \"Just keep pretending everything's ok.\"\n          });\n        }\n\n        switch (_this.state.icon) {\n          case '09n':\n          case '09d':\n            _this.setState({\n              message: \"It's fucking grim out there.\",\n              subMessage: \"You'd fit right in.\"\n            });\n\n        }\n\n        switch (_this.state.icon) {\n          case '10d':\n          case '10n':\n            _this.setState({\n              message: 'Proper fucking raining out there.',\n              subMessage: \"Go outside, you need a shower.\"\n            });\n\n        }\n\n        switch (_this.state.icon) {\n          case '11d':\n          case '11n':\n            _this.setState({\n              message: 'BAM! KAPOW!',\n              subMessage: \"Raaaaarrrrrgggghhh! I'm running on thunder, motherfucker!\"\n            });\n\n        }\n\n        if (_this.state.icon === '13d') {\n          _this.setState({\n            message: 'Snow Day!',\n            subMessage: \"At least today you have an excuse for staying in and doing nothing, loser.\"\n          });\n        }\n\n        if (_this.state.icon === '13n') {\n          _this.setState({\n            message: 'Snow Night!',\n            subMessage: \"Remember people can see your footprints in the snow, pervert.\"\n          });\n        }\n\n        switch (_this.state.icon) {\n          case '50d':\n          case '50n':\n            _this.setState({\n              message: 'Gorilla in the mist',\n              subMessage: \"You **are** disgustingly hairy.\"\n            });\n\n        }\n\n        if (_this.state.wind > 25) {\n          _this.setState({\n            message: \"Too fucking windy.\",\n            subMessage: \"People say that about you a lot, by the way.\"\n          });\n\n          switch (_this.state.icon) {\n            case '09d':\n            case '09n':\n            case '10d':\n            case '10n':\n              _this.setState({\n                message: \"Absolute fucking pisswind.\",\n                subMessage: \"Don't even think about that fucking picnic.\"\n              });\n\n          }\n        }\n\n        if (_this.state.wind > 31) {\n          _this.setState({\n            message: \"It's going to be difficult to walk out there\",\n            subMessage: \"Think about staying in with a cup of tea and a good book. If you can read, that is. Can you read?\"\n          });\n\n          switch (_this.state.icon) {\n            case '09d':\n            case '09n':\n            case '10d':\n            case '10n':\n              _this.setState({\n                message: \"Absolute fucking pisswind. It's going to be difficult to walk out there.\",\n                subMessage: \"Don't even think about that fucking picnic.\"\n              });\n\n          }\n        }\n\n        if (_this.state.wind > 39) {\n          _this.setState({\n            message: \"Just stay inside\",\n            subMessage: \"This is dangerously windy. Just like you.\"\n          });\n\n          switch (_this.state.icon) {\n            case '09d':\n            case '09n':\n            case '10d':\n            case '10n':\n              _this.setState({\n                message: \"Stay inside, you fucking idiot.\",\n                subMessage: \"Don't even think about that fucking picnic. It's dangerously windy, and it's wet.\"\n              });\n\n          }\n\n          if (_this.state.wind > 47) {\n            _this.setState({\n              message: \"Chance of falling masonry, motherfucker.\",\n              subMessage: \"Expect to lose a few rooftiles, it's literally that windy. Don't go out there.\"\n            });\n\n            switch (_this.state.icon) {\n              case '09d':\n              case '09n':\n              case '10d':\n              case '10n':\n                _this.setState({\n                  message: \"Stay inside, you fucking idiot.\",\n                  subMessage: \"It's dangerously windy, and it's wet. Roofs are going to lose tiles today.\"\n                });\n\n            }\n          }\n\n          if (_this.state.wind > 55) {\n            _this.setState({\n              message: \"DON'T. GO. OUTSIDE.\",\n              subMessage: \"The wind is literally tearing trees out of the ground. You don't want to be involved in that shit.\"\n            });\n          }\n\n          if (_this.state.wind > 73) {\n            _this.setState({\n              message: \"Get to safety.\",\n              subMessage: \"This is a hurricane. Stay inside and away from windows, skylights and glass doors. Find a safe area in the home (an interior room, a closet or bathroom on the lower level). If flooding threatens a home, turn off electricity at the main breaker. If a home loses power, turn off major appliances such as the air conditioner and water heater to reduce damage. Do not use electrical appliances, including your computer. Do not go outside. If the eye of the storm passes over your area, there will be a short period of calm, but at the other side of the eye, the wind speed rapidly increases to hurricane force and will come from the opposite direction. Also, do not go outside to 'see what the wind feels like.' It is too easy to be hit by flying debris. Beware of lightning. Stay away from electrical equipment. Don't use the phone or take a bath/shower during the storm.\"\n            });\n          }\n        }\n      } else {\n        _this.setState({\n          error: \"Please input search values...\"\n        });\n      }\n    };\n\n    _this.getWeather =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var api_call, response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city, \",\").concat(country, \"&units=metric&appid=\").concat(Api_Key));\n\n              case 2:\n                api_call = _context.sent;\n                _context.next = 5;\n                return api_call.json();\n\n              case 5:\n                response = _context.sent;\n\n                _this.setState({\n                  response: response\n                }); //console.log(response);\n\n\n                _this.onResponse();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.getForecast =\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var api_call, response, i;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"http://api.openweathermap.org/data/2.5/forecast?q=\".concat(city, \",\").concat(country, \"&units=metric&appid=\").concat(Api_Key));\n\n              case 2:\n                api_call = _context2.sent;\n                _context2.next = 5;\n                return api_call.json();\n\n              case 5:\n                response = _context2.sent;\n                //var currentForecast = this.props.currentForecast;\n                i = 0;\n                console.log('forecast');\n                console.log(response);\n\n                if (city && country) {\n                  _this.setState({\n                    currentForecast: response\n                  });\n                }\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.onChange = function (event, _ref3) {\n      var newValue = _ref3.newValue,\n          method = _ref3.method;\n\n      _this.setState({\n        value: newValue\n      });\n\n      function hasValue(cities, prop, value) {\n        return cities.some(function (language) {\n          return language.cities.some(function (item) {\n            return item[prop] === value;\n          });\n        });\n      }\n\n      if (hasValue(cities, 'name', newValue)) {\n        city = newValue;\n        country = getTitle(cities, 'name', newValue);\n\n        _this.getWeather();\n\n        _this.getForecast();\n      }\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref4) {\n      var value = _ref4.value;\n\n      _this.setState({\n        suggestions: getSuggestions(value)\n      });\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: []\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleRightClick\",\n    value: function handleRightClick() {\n      document.getElementById('weatherRow').scrollLeft += 200;\n    }\n  }, {\n    key: \"handleLeftClick\",\n    value: function handleLeftClick() {\n      document.getElementById('weatherRow').scrollLeft -= 200;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getWeather();\n      this.getForecast();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions;\n      var inputProps = {\n        placeholder: \"Where do you fucking live?\",\n        value: value,\n        onChange: this.onChange\n      };\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-xs-5 title-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(Autosuggest, {\n        multiSection: true,\n        suggestions: suggestions,\n        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n        getSuggestionValue: getSuggestionValue,\n        renderSuggestion: renderSuggestion,\n        renderSectionTitle: renderSectionTitle,\n        getSectionSuggestions: getSectionSuggestions,\n        inputProps: inputProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"now\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"weatherTile white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, \"Now\"), React.createElement(\"img\", {\n        src: \"http://openweathermap.org/img/w/\" + this.state.icon + \".png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, Math.floor(this.state.temperature), \"\\xB0\"), React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, this.state.description, \".\"), React.createElement(\"img\", {\n        className: \"windArrow\",\n        src: require('./img/arrow.svg'),\n        style: {\n          transform: \"rotate(\".concat(this.state.windDeg, \"deg)\"),\n          width: \"20px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, \"Wind speed: \", this.state.windSpeed, \"mph\"), React.createElement(\"p\", {\n        className: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"Sunrise: \", this.state.sunrise, \" - Sunset: \", this.state.sunset, \" \")), React.createElement(\"div\", {\n        className: \"messages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, this.state.message), React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, this.state.subMessage))), React.createElement(\"div\", {\n        className: \"weatherRow\",\n        id: \"weatherRow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, this.state.currentForecast ? React.createElement(Forecast, {\n        currentForecast: this.state.currentForecast,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }) : null), React.createElement(\"button\", {\n        onClick: this.handleLeftClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Scroll Left\"), React.createElement(\"button\", {\n        onClick: this.handleRightClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, \"Scroll Right\"))))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/App.js"],"names":["React","Component","Autosuggest","cities","Forecast","city","country","Api_Key","hasName","prop","value","data","some","obj","escapeRegexCharacters","str","replace","getSuggestions","escapedValue","trim","regex","RegExp","map","section","title","filter","language","test","name","length","getSuggestionValue","suggestion","renderSuggestion","renderSectionTitle","getSectionSuggestions","getTitle","result","find","item","App","state","temperature","undefined","humidity","description","error","suggestions","message","subMessage","onResponse","sunriseSinceEpoch","Date","response","sys","sunrise","sunriseHour","getUTCHours","sunriseMinute","getUTCMinutes","humanSunrise","sunsetSinceEpoch","sunset","sunsetHour","sunsetMinute","humanSunset","setState","main","temp","weather","icon","windSpeed","wind","speed","windDeg","deg","getWeather","e","fetch","api_call","json","getForecast","i","console","log","currentForecast","onChange","event","newValue","method","hasValue","onSuggestionsFetchRequested","onSuggestionsClearRequested","document","getElementById","scrollLeft","inputProps","placeholder","Math","floor","require","transform","width","handleLeftClick","handleRightClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Autosuggest from 'react-autosuggest';\nimport {cities} from './variables.js';\nimport Forecast from './Components/forecast';\n\nexport var city = 'Croydon';\nexport var country = 'GB'\nexport const Api_Key = \"8c5021109e1918aa1c478ce6b4f53c27\";\n\n\nfunction hasName(prop, value, data) {\n  return data.some(function(obj) {\n      return prop in obj && obj[prop] === value;\n  });\n}\n\n\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction getSuggestions(value) {\n  const escapedValue = escapeRegexCharacters(value.trim());\n  \n  if (escapedValue === '') {\n    return [];\n  }\n\n  const regex = new RegExp('^' + escapedValue, 'i');\n\n  return cities\n    .map(section => {\n      return {\n        title: section.title,\n        cities: section.cities.filter(language => regex.test(language.name))\n      };\n    })\n    .filter(section => section.cities.length > 0);\n}\n\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\n\nfunction renderSuggestion(suggestion) {\n  return (\n    <span>{suggestion.name}</span>\n  );\n}\n\nfunction renderSectionTitle(section) {\n  return (\n    <strong>{section.title}</strong>\n  );\n}\n\nfunction getSectionSuggestions(section) {\n  return section.cities;\n}\n\n\nfunction getTitle(cities, prop, value) {\n  // Find the language...\n  var result = cities.find(function (language) {\n    // ... where some item has item[prop] === value\n    return language.cities.some(function (item) {\n      return item[prop] === value\n    })\n  })\n\n  return result ? result.title : null\n}\n\n\n\nclass App extends React.Component {\n\n  state = {\n\n    temperature: undefined,\n    city: undefined,\n    country: undefined,\n    humidity: undefined,\n    description: undefined,\n    error: undefined,\n    value: '',\n    suggestions: [],\n    message: undefined,\n    subMessage: undefined\n    \n  }\n\n\n  onResponse = () => {\n    var sunriseSinceEpoch = new Date(this.state.response.sys.sunrise * 1000);\n    var sunriseHour = sunriseSinceEpoch.getUTCHours();\n    var sunriseMinute = sunriseSinceEpoch.getUTCMinutes();\n    var humanSunrise = sunriseHour + ':' + sunriseMinute + 'AM';\n    var sunsetSinceEpoch = new Date(this.state.response.sys.sunset * 1000);\n    var sunsetHour = sunsetSinceEpoch.getUTCHours();\n    sunsetHour = sunsetHour - 12;\n    var sunsetMinute = sunsetSinceEpoch.getUTCMinutes();\n    var humanSunset = sunsetHour + ':' + sunsetMinute + 'PM';\n    if(city && country){\n      this.setState({\n        temperature: this.state.response.main.temp,\n        city: this.state.response.name,\n        country: this.state.response.sys.country,\n        sunset: humanSunset,\n        sunrise: humanSunrise,\n        humidity: this.state.response.main.humidity,\n        description: this.state.response.weather[0].description,\n        icon: this.state.response.weather[0].icon,\n        error: \"\",\n        windSpeed: this.state.response.wind.speed,\n        windDeg: this.state.response.wind.deg,\n      })\n      if (this.state.icon === '01d') {\n        if (this.state.temp > 18) {\n          this.setState({\n            message: 'Fucking Lush',\n            subMessage: \"If you had friends you could go outside and play!\"\n          })\n        } else {\n          this.setState({\n            message: 'Pretty, but dissapointingly cold.',\n            subMessage: \"Like you, except it's pretty.\"\n          })\n        }\n      }\n\n      switch (this.state.icon) {\n        case '02d' :\n        case '02n' :\n        this.setState({\n          message: 'Not bad',\n          subMessage: \"Unlike you. You're really bad.\"\n        })\n        if (this.state.temp < 5) {\n          this.setState({\n            message: \"It's fucking freezing.\",\n            subMessage: \"Fuck you, cold-face.\"\n          })\n        }\n\n      }\n\n      switch (this.state.icon) {\n        case '03d' :\n        case '03n' :\n        this.setState({\n          message: 'Fucking unremarkable out there.',\n          subMessage: \"Have you been giving the weather life advice? Please stop.\"\n        })\n        if (this.state.temp < 5) {\n          this.setState({\n            message: \"It's fucking freezing.\",\n            subMessage: \"Fuck you, cold-face.\"\n          })\n        }\n      }\n      \n\n    switch (this.state.icon) {\n      case '04d' :\n      case '04n' :\n        this.setState({\n          message: 'Broken sky, broken dreams.',\n          subMessage: \"Just keep pretending everything's ok.\"\n        })\n    }\n\n      if (this.state.icon === '04n') {\n        this.setState({\n          message: 'Broken sky, broken dreams.',\n          subMessage: \"Just keep pretending everything's ok.\"\n        })\n      }\n      switch (this.state.icon) {\n        case '09n' :\n        case '09d' :\n          this.setState({\n            message: \"It's fucking grim out there.\",\n            subMessage: \"You'd fit right in.\"\n          })\n      }\n\n      switch (this.state.icon) {\n      case '10d' :\n      case '10n' :\n        this.setState({\n          message: 'Proper fucking raining out there.',\n            subMessage: \"Go outside, you need a shower.\"\n        })\n      }\n      switch (this.state.icon) {\n        case '11d' :\n        case '11n' :\n        this.setState({\n          message: 'BAM! KAPOW!',\n          subMessage: \"Raaaaarrrrrgggghhh! I'm running on thunder, motherfucker!\"\n        })\n      }\n      if (this.state.icon === '13d') {\n        this.setState({\n          message: 'Snow Day!',\n          subMessage: \"At least today you have an excuse for staying in and doing nothing, loser.\"\n        })\n      }\n      if (this.state.icon === '13n') {\n        this.setState({\n          message: 'Snow Night!',\n          subMessage: \"Remember people can see your footprints in the snow, pervert.\"\n        })\n      }\n      switch (this.state.icon) {\n        case '50d' :\n        case '50n' :\n        this.setState({\n          message: 'Gorilla in the mist',\n          subMessage: \"You **are** disgustingly hairy.\"\n        })\n      }\n      if (this.state.wind > 25) {\n        this.setState({\n          message: \"Too fucking windy.\",\n          subMessage: \"People say that about you a lot, by the way.\"\n        })\n        switch (this.state.icon) {\n          case '09d' :\n          case '09n' :\n          case '10d' :\n          case '10n' :\n          this.setState({\n            message: \"Absolute fucking pisswind.\",\n            subMessage: \"Don't even think about that fucking picnic.\"\n          })\n        }\n      }\n      if (this.state.wind > 31) {\n        this.setState({\n          message: \"It's going to be difficult to walk out there\",\n          subMessage: \"Think about staying in with a cup of tea and a good book. If you can read, that is. Can you read?\"\n        })\n        switch (this.state.icon) {\n          case '09d' :\n          case '09n' :\n          case '10d' :\n          case '10n' :\n          this.setState({\n            message: \"Absolute fucking pisswind. It's going to be difficult to walk out there.\",\n            subMessage: \"Don't even think about that fucking picnic.\"\n          })\n        }\n      }\n      if (this.state.wind > 39) {\n        this.setState({\n          message: \"Just stay inside\",\n          subMessage: \"This is dangerously windy. Just like you.\"\n        })\n        switch (this.state.icon) {\n          case '09d' :\n          case '09n' :\n          case '10d' :\n          case '10n' :\n          this.setState({\n            message: \"Stay inside, you fucking idiot.\",\n            subMessage: \"Don't even think about that fucking picnic. It's dangerously windy, and it's wet.\"\n          })\n        }\n        if (this.state.wind > 47) {\n          this.setState({\n            message: \"Chance of falling masonry, motherfucker.\",\n            subMessage: \"Expect to lose a few rooftiles, it's literally that windy. Don't go out there.\"\n          })\n          switch (this.state.icon) {\n            case '09d' :\n            case '09n' :\n            case '10d' :\n            case '10n' :\n            this.setState({\n              message: \"Stay inside, you fucking idiot.\",\n              subMessage: \"It's dangerously windy, and it's wet. Roofs are going to lose tiles today.\"\n            })\n          }\n        }\n        if (this.state.wind > 55) {\n          this.setState({\n            message: \"DON'T. GO. OUTSIDE.\",\n            subMessage: \"The wind is literally tearing trees out of the ground. You don't want to be involved in that shit.\"\n          })\n        }\n        if (this.state.wind > 73) {\n          this.setState({\n            message: \"Get to safety.\",\n            subMessage: \"This is a hurricane. Stay inside and away from windows, skylights and glass doors. Find a safe area in the home (an interior room, a closet or bathroom on the lower level). If flooding threatens a home, turn off electricity at the main breaker. If a home loses power, turn off major appliances such as the air conditioner and water heater to reduce damage. Do not use electrical appliances, including your computer. Do not go outside. If the eye of the storm passes over your area, there will be a short period of calm, but at the other side of the eye, the wind speed rapidly increases to hurricane force and will come from the opposite direction. Also, do not go outside to 'see what the wind feels like.' It is too easy to be hit by flying debris. Beware of lightning. Stay away from electrical equipment. Don't use the phone or take a bath/shower during the storm.\"\n          })\n        }\n      }\n    }\n    else {\n      this.setState({\n        error: \"Please input search values...\"\n      })\n    }\n  }\n\n  //getWeather is a method we'll use to make the api call\n  getWeather = async (e) => {\n\n    //city = 'Croydon'; //e.target.elements.city.value;\n    //var country = 'GB'; //e.target.elements.country.value;\n    //e.preventDefault();   \n    const api_call = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&units=metric&appid=${Api_Key}`); // fetch(\"http://api.openweathermap.org/data/2.5/weather?q=London,uk&appid=8c5021109e1918aa1c478ce6b4f53c27\");// fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${Api_Key}`);\n    const response = await api_call.json();\n    this.setState({\n      response: response,\n    })\n    //console.log(response);\n    this.onResponse();\n  }\n\n\n  getForecast = async (e) => {\n\n    const api_call = await fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${city},${country}&units=metric&appid=${Api_Key}`); // fetch(\"http://api.openweathermap.org/data/2.5/weather?q=London,uk&appid=8c5021109e1918aa1c478ce6b4f53c27\");// fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${Api_Key}`);\n    var response = await api_call.json();\n    //var currentForecast = this.props.currentForecast;\n    var i = 0;\n    console.log('forecast');\n    console.log(response);\n    if(city && country){\n      this.setState({\n        currentForecast: response\n      })\n    }\n  }\n  \n  handleRightClick() {\n    document.getElementById('weatherRow').scrollLeft += 200;\n  }\n\n  handleLeftClick() {\n    document.getElementById('weatherRow').scrollLeft -= 200;\n  }\n\n  componentDidMount() {\n    this.getWeather()\n    this.getForecast()\n  };\n\n  onChange = (event, { newValue, method }) => {\n    this.setState({\n      value: newValue\n    });\n\n    \n    function hasValue(cities, prop, value) {\n      return cities.some(function (language) {\n        return language.cities.some(function (item) {\n          return item[prop] === value\n        })\n      })\n    }\n    \n    if (hasValue(cities, 'name', newValue)) {\n     \n      city = newValue;\n      country = getTitle(cities, 'name', newValue);\n      this.getWeather()\n      this.getForecast()\n\n    }\n\n  };\n  \n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: getSuggestions(value)\n    });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"Where do you fucking live?\",\n      value,\n      onChange: this.onChange\n    };\n\n\n    return (\n\n      <div>\n         <div className=\"wrapper\">\n          <div className=\"main\">\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-xs-5 title-container\">\n                    <Autosuggest \n                      multiSection={true}\n                      suggestions={suggestions}\n                      onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                      onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                      getSuggestionValue={getSuggestionValue}\n                      renderSuggestion={renderSuggestion}\n                      renderSectionTitle={renderSectionTitle}\n                      getSectionSuggestions={getSectionSuggestions}\n                      inputProps={inputProps} \n                    />\n                </div>\n                <div className=\"now\">\n                  <div className=\"weatherTile white\">\n                  <p className=\"date\">\n                    Now\n                  </p>\n                    <img src={\"http://openweathermap.org/img/w/\" + this.state.icon + \".png\"} />\n                    <h1>{Math.floor(this.state.temperature)}Â°</h1>\n                    <p className=\"date\">{this.state.description}.</p>\n                    <img \n                            className=\"windArrow\" \n                            src={require('./img/arrow.svg')} \n                            style={{transform: `rotate(${this.state.windDeg}deg)`, \n                            width: `20px`}} \n                        />\n                        <p className=\"date\">Wind speed: {this.state.windSpeed}mph</p>\n                        <p className='date'>Sunrise: {this.state.sunrise} - Sunset: {this.state.sunset} </p>\n                  </div>\n                  <div className=\"messages\">\n                    <h1>{this.state.message}</h1>\n                    <h4>{this.state.subMessage}</h4>\n                  </div>\n                </div>\n                <div className=\"weatherRow\" id=\"weatherRow\">\n                  {this.state.currentForecast ? <Forecast currentForecast={this.state.currentForecast} /> : null}\n                </div>\n                <button onClick={this.handleLeftClick}>Scroll Left</button>\n                <button onClick={this.handleRightClick}>Scroll Right</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}